// Get all keys
const keys = document.getElementById("set").children;

// Loop through all keys to add sound to each key
for (let i=0; i<keys.length; i++) {
    // get the id of current key
    let keyId = keys[i].getAttribute("id");
    console.log(keyId);  // testing remove at the end
    // Add sound to current key
    keys[i].addEventListener('click', () => addSound(keyId))
}

/**
 * Create and play a new sound 
 * @param {*} s - string generated by the name of a piano key id
 */
function addSound(s) {
    let source = soundSource(s);
    console.log(source)  // testing remove at the end
    new Audio(source).play()
}

/**
 * Generate a sound url unique to each piano key
 * The sound files are named according to each key note
 * Each piano key's html element has a id according to each key note
 * @param {*} src - takes the parameter carried by addSource function
 * @returns a unique url sound
 */
function soundSource(src) {
    let path = "media/sounds/";
    // Assigns the right sound file to the path based on the current key id 
    switch (src){
        case "a":
            return path += "a.mp3";
            break;
        case "as":
            return path += "as.mp3";
            break;
        case "b":
            return path += "b.mp3";
            break;
        case "c":
            return path += "c.mp3";
            break;
        case "cs":
            return path += "cs.mp3";
            break;
        case "d":
            return path += "d.mp3";
            break;
        case "ds":
            return path += "ds.mp3";
            break;
        case "e":
            return path += "e.mp3";
            break;
        case "f":
            return path += "f.mp3";
            break;
        case "fs":
            return path += "fs.mp3";
            break;
        case "g":
            return path += "g.mp3";
            break;
        case "gs":
            return path += "gs.mp3";
            break;
    }
}

// Melodies

// Happy birthday
const happyBirthday = [
    "d", "d", "e", "d", "g", "f",
    "d", "d", "e", "d", "a", "g",
    "d", "d", "d", "b", "a", "g", "f",
    "c", "c", "b", "g", "a", "g"
    ];
